<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>osu! Private Server Listing</title>
  <link rel="stylesheet" href="https:////fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
  <link rel="stylesheet" href="https://cdn.rawgit.com/necolas/normalize.css/master/normalize.css">
  <link rel="stylesheet" href="https://cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Primary Meta Tags -->
  <meta name="title" content="Osu! Private Server Listing">
  <meta name="description" content="Welcome to a simple osu! private server listing! Here, you can find any server you want. You can also join their discord for more information about the server.">
  <meta name="keywords" content="osu, private, server, list, osu!server, private server, ripple">

  <!-- Open Graph / Facebook / Discord -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://list.troke.id/">
  <meta property="og:title" content="osu! Private Server Listing">
  <meta property="og:description" content="Welcome to a simple osu! private server listing! Here, you can find any server you want. You can also join their discord for more information about the server.">
  <meta property="og:image" content="https://cdn.discordapp.com/attachments/874251888357441537/938105355056074812/osu_ps_small.png">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://list.troke.id">
  <meta property="twitter:title" content="osu! Private Server Listing">
  <meta property="twitter:description" content="Welcome to a simple osu! private server listing! Here, you can find any server you want. You can also join their discord for more information about the server.">
  <meta property="twitter:image" content="https://cdn.discordapp.com/attachments/874251888357441537/938105355056074812/osu_ps_small.png">
</head>
<body>
  <header>
    <h1>osu! Private Server Listing</h1>
  </header>

  <div id="list-container">
    <table id="app">
      <thead>
        <tr>
          <th>Server Name</th>
          <th>Owner</th>
          <th>Location</th>
          <th>Online</th>
          <th>Discord</th>
        </tr>
      </thead>
      <tbody class="list">
      </tbody>
    </table>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>

  <script src="data.js"></script>
  <script>
    $(items).each(function(k, v) {
      function handleRipple(api){
        $.getJSON(api, function(data){
          getDT = data.result;
          kirimKesana();
        });
      }
      function handleGulag(api){
        $.getJSON(api, function(data){
          getDT = data.counts.online;
          kirimKesana();
        });
      }
      function SpecialRipple(api){
        $.getJSON(api, function(data){
          getDT = data.connected_users;
          kirimKesana();
        })
      }
      var data;
      switch(v.instances){
        case 0:
            // ENDPOINT A
            crot = handleRipple(v.onlineAPI);
            break;
        case 1:
            // ENDPOINT B
            crot = handleGulag(v.onlineAPI);
            break;
        case 2:
            // HANDLING SPECIAL FOR RIPPLE
            crot = SpecialRipple(v.onlineAPI);
        default:
            getDT = null;
      }
      function kirimKesana(){
        $("#app tbody").append("<tr><td class='name'><a href='"+v.link+"'</a>"+v.name+"</td><td class='owner'>"+v.owner+"</td><td class='location'>"+v.location+"</td><td class='online'>"+getDT+"</td><td class='discord'><a href='"+v.discord+"'><img src='https://cdn8.bigcommerce.com/s-prdpfsbvbl/product_images/uploaded_images/button-discord.png' style='width:120px;height:35px;'></a></td></tr>")
      }
      //console.log(getDT);
    });
    var options = {
      valueNames: ['name', 'owner', 'location', 'online', 'discord']
    };
    var list = new List('list-container', options);
  </script>
  <p>Is your server missing or are you a owner that wishes to list your server here? Feel free to request it <a href="https://github.com/troke12/osu-server-list">here</a>!</p>
</body>
</html>
